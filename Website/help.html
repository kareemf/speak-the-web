<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help - URL Reader</title>
    <meta name="description" content="Learn how to use URL Reader to listen to web articles.">
    <meta name="theme-color" content="#007aff">
    <link rel="stylesheet" href="css/style.css">
    <!-- TODO: Add app-icon.png to images folder -->
    <link rel="apple-touch-icon" href="images/app-icon.png">
</head>
<body>
    <nav>
        <div class="container">
            <a href="index.html" class="nav-brand">
                <!-- TODO: Add app-icon.png to images folder -->
                <img src="images/app-icon.png" alt="URL Reader Icon">
                <span>URL Reader</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="privacy.html">Privacy</a></li>
            </ul>
        </div>
    </nav>

    <main class="help-content">
        <div class="container">
            <h1>Help &amp; Guide</h1>
            <p class="subtitle">Learn how to get the most out of URL Reader</p>

            <section class="help-section" id="getting-started">
                <h2>Getting Started</h2>
                <p>URL Reader transforms web articles into audio so you can listen while doing other things. There are two ways to use the app:</p>

                <h3>Option 1: Paste a URL</h3>
                <ol class="step-list">
                    <li>Open URL Reader and tap the URL input field</li>
                    <li>Paste or type the article URL</li>
                    <li>Tap "Fetch Article" to load the content</li>
                    <li>Press play to start listening</li>
                </ol>

                <h3>Option 2: Use the Safari Extension</h3>
                <ol class="step-list">
                    <li>Open any article in Safari</li>
                    <li>Tap the Share button (square with arrow)</li>
                    <li>Scroll down and tap "Read Aloud"</li>
                    <li>The app opens and starts loading the article</li>
                </ol>

                <div class="help-tip">
                    <strong>Tip:</strong> The Safari extension is the fastest way to start listening. Add it to your favorites in the Share menu for quick access.
                </div>
            </section>

            <section class="help-section" id="playback">
                <h2>Playback Controls</h2>
                <p>Control your listening experience with these features:</p>

                <h3>Basic Controls</h3>
                <ul>
                    <li><strong>Play/Pause:</strong> Tap the main button to start or pause reading</li>
                    <li><strong>Skip Forward:</strong> Jump ahead 15 seconds</li>
                    <li><strong>Skip Back:</strong> Go back 15 seconds</li>
                    <li><strong>Progress Bar:</strong> Drag to jump to any position in the article</li>
                </ul>

                <h3>Speed Control</h3>
                <p>Adjust reading speed from 0.5x (slow) to 2x (fast)./p>

                <h3>Background Playback</h3>
                <p>Keep listening when you leave the app:</p>
                <ul>
                    <li>Switch to another app - audio continues</li>
                    <li>Lock your device - audio continues</li>
                    <li>Control playback from Lock Screen and Control Center</li>
                </ul>
            </section>

            <section class="help-section" id="voices">
                <h2>Voice Selection</h2>
                <p>URL Reader offers two voice options:</p>

                <h3>System Voices (AVSpeech)</h3>
                <p>Apple's built-in voices that come with your device. These are reliable and work instantly.</p>
                <ul>
                    <li>No download required</li>
                    <li>Playback is instant</li>
                </ul>

                <h3>Neural Voices (Sherpa/Piper)</h3>
                <p>High-quality voices that may sound more natural. These require a one-time download.</p>
                <ul>
                    <li>More natural-sounding speech</li>            
                    <li>Models range from 20MB to 100MB</li>
                    <li>Playback requires speech to be generated on the fly, which can take a few minutes. Generated audio is cached</li>
                </ul>

                <div class="help-tip">
                    <strong>Tip:</strong> Download voice models on Wi-Fi. Once downloaded, they work offline.
                </div>

                <h3>Changing Voices</h3>
                <ol class="step-list">
                    <li>Tap the gear icon in the top right while reading</li>
                    <li>Select "Voice Engine" (System or Sherpa)</li>
                    <li>Choose your preferred voice from the list</li>
                    <li>For Sherpa/Piper voices, tap Download if needed. It may take a few minutes for one-time processing of new a voice after download</li>
                </ol>

                <div class="help-tip">
                    <strong>Note:</strong> Switching between engines resets progress on the current article. 
                    System voices synthesize in real time, while Sherpa/Piper generates audio files under the hood.
                    Therefore, progress is tied to the engine.
                </div>
            </section>

            <section class="help-section" id="toc">
                <h2>Table of Contents</h2>
                <p>For longer articles with headings, use the Table of Contents to navigate:</p>

                <ol class="step-list">
                    <li>Tap the list icon in the top right while reading</li>
                    <li>See all sections/headings in the article</li>
                    <li>Tap any heading to jump directly to that section</li>
                    <li>Reading continues from that point</li>
                </ol>

                <div class="help-tip">
                    <strong>Note:</strong> The Table of Contents icon only appears if the article parsable has headings. When missing, it may be helpful to switch from Text to the Safari render mode
                </div>
            </section>

            <section class="help-section" id="recent">
                <h2>Recent Articles</h2>
                <p>Your recently read articles are saved on the home screen:</p>

                <ul>
                    <li><strong>Progress Tracking:</strong> See how much you've listened to</li>
                    <li><strong>Resume Playback:</strong> Tap to continue where you left off</li>
                    <li><strong>Offline Access:</strong> Articles are cached for offline listening</li>
                    <li><strong>Delete:</strong> Swipe left on any article to remove it</li>
                </ul>

                <p>Tap "Clear" to remove all recent articles and their cached data.</p>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <ul class="footer-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="privacy.html">Privacy Policy</a></li>
                <!-- TODO: Replace with actual support email -->
                <li><a href="mailto:support@example.com">Contact</a></li>
                <!-- TODO: Replace with actual GitHub repo URL -->
                <li><a href="https://github.com/example/url-reader">GitHub</a></li>
            </ul>
            <p class="copyright">&copy; <script>document.write(new Date().getFullYear())</script> URL Reader. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Detect if loaded in-app via URL parameter or user agent
        if (window.location.search.includes('in-app=true') ||
            navigator.userAgent.includes('URLReader')) {
            document.body.classList.add('in-app');
        }
    </script>
</body>
</html>
